<!doctype html>
<html lang="en-us">
  <head>
    <title>第五章 函数 // Paperfish&#39;s blog</title>
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.77.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Paperfish" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://github.com/Papertiger24/papertiger24.github.io/css/main.min.88e7083eff65effb7485b6e6f38d10afbec25093a6fac42d734ce9024d3defbd.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="第五章 函数"/>
<meta name="twitter:description" content="第五章 函数 1. 函数定义与使用 1. 基本语法 def 函数名([参数列表]) &#39;&#39;&#39;注释&#39;&#39;&#39; 函数体 def需要注意的问题：
 不需要说明形参类型，Python会根据实参的值自动推断参数类型 不需要指定函数返回值类型，由其中的return语句的值来确定 即使函数不需要接受任何参数，也必须保留一对空的圆括号 函数头部括号后面的冒号必不可少 函数体相对于def关键字必须保持一定的空格缩进  2. 递归函数 一个函数中直接或者间接地又调用了该函数自身，叫做递归调用。
函数递归通常用来把一个大型的复杂问题层层转化为一个与原来问题本质相同但规模很小、很容易解决或描述的问题，只需要很少的代码就可以描述解决问题过程中需要的大量重复计算。要注意：
 每次递归应保持问题性质不变 每次递归应使用更小或更简单的输入 必须有一个能够直接处理而不需要再次进行递归的特殊情况来保证递归过程可以结束 函数递归深度不能太大，否则引起内存崩溃  2. 函数参数 函数定义时圆括号中的是逗号分隔开的形参列表，函数可有可无参数但是定义和调用时的圆括号不可少。
1. 位置参数 调用函数时实参和形参的顺序必须一致，并且数量相同。
2. 默认值参数 在定义函数时，可以为形参设置默认值。在调用带有默认值参数的函数时，可以不用为设置了默认值的形参进行传值，此时函数将会直接使用函数定义时设置的默认值，当然也可以通过显式赋值来替换其默认值。
注意，在定义带有默认值参数的函数时，任何一个默认值参数右边都不能再出现没有默认值的普通位置函数，否则会提示语法错误。
def 函数名(..., 形参名 = 默认值): 函数体 &gt;&gt;&gt; def demo(string, times = 1): print((string&#43;&#39; &#39;)*times) &gt;&gt;&gt; demo(&#39;Hello&#39;)	#当不显式赋值时，则使用默认值 Hello &gt;&gt;&gt; demo(&#39;Hello&#39;, 3) Hello Hello Hello 3. 关键参数 通过关键参数可以按参数名字传递值，明确指定哪个值传递给哪个参数，实参顺序可以和形参顺序不一致，但不影响参数值的传递结果，避免了用户需要牢记参数位置和顺序的麻烦，使得函数的调用和参数传递更加灵活。
&gt;&gt;&gt; def demo(string, times = 1): print((string&#43;&#39; &#39;)*times) &gt;&gt;&gt; demo(times = 5, string = &#39;World&#39;) World World World World World 4."/>

    <meta property="og:title" content="第五章 函数" />
<meta property="og:description" content="第五章 函数 1. 函数定义与使用 1. 基本语法 def 函数名([参数列表]) &#39;&#39;&#39;注释&#39;&#39;&#39; 函数体 def需要注意的问题：
 不需要说明形参类型，Python会根据实参的值自动推断参数类型 不需要指定函数返回值类型，由其中的return语句的值来确定 即使函数不需要接受任何参数，也必须保留一对空的圆括号 函数头部括号后面的冒号必不可少 函数体相对于def关键字必须保持一定的空格缩进  2. 递归函数 一个函数中直接或者间接地又调用了该函数自身，叫做递归调用。
函数递归通常用来把一个大型的复杂问题层层转化为一个与原来问题本质相同但规模很小、很容易解决或描述的问题，只需要很少的代码就可以描述解决问题过程中需要的大量重复计算。要注意：
 每次递归应保持问题性质不变 每次递归应使用更小或更简单的输入 必须有一个能够直接处理而不需要再次进行递归的特殊情况来保证递归过程可以结束 函数递归深度不能太大，否则引起内存崩溃  2. 函数参数 函数定义时圆括号中的是逗号分隔开的形参列表，函数可有可无参数但是定义和调用时的圆括号不可少。
1. 位置参数 调用函数时实参和形参的顺序必须一致，并且数量相同。
2. 默认值参数 在定义函数时，可以为形参设置默认值。在调用带有默认值参数的函数时，可以不用为设置了默认值的形参进行传值，此时函数将会直接使用函数定义时设置的默认值，当然也可以通过显式赋值来替换其默认值。
注意，在定义带有默认值参数的函数时，任何一个默认值参数右边都不能再出现没有默认值的普通位置函数，否则会提示语法错误。
def 函数名(..., 形参名 = 默认值): 函数体 &gt;&gt;&gt; def demo(string, times = 1): print((string&#43;&#39; &#39;)*times) &gt;&gt;&gt; demo(&#39;Hello&#39;)	#当不显式赋值时，则使用默认值 Hello &gt;&gt;&gt; demo(&#39;Hello&#39;, 3) Hello Hello Hello 3. 关键参数 通过关键参数可以按参数名字传递值，明确指定哪个值传递给哪个参数，实参顺序可以和形参顺序不一致，但不影响参数值的传递结果，避免了用户需要牢记参数位置和顺序的麻烦，使得函数的调用和参数传递更加灵活。
&gt;&gt;&gt; def demo(string, times = 1): print((string&#43;&#39; &#39;)*times) &gt;&gt;&gt; demo(times = 5, string = &#39;World&#39;) World World World World World 4." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://github.com/Papertiger24/papertiger24.github.io/post/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E5%87%BD%E6%95%B0/" />
<meta property="article:published_time" content="2020-11-10T17:57:57+08:00" />
<meta property="article:modified_time" content="2020-11-10T17:57:57+08:00" />


  </head>
  <body>
    <header class="app-header">
      <a href="https://github.com/Papertiger24/papertiger24.github.io"><img class="app-header-avatar" src="https://github.com/Papertiger24/papertiger24.github.io/avatar.jpg" alt="Paperfish" /></a>
      <h1>Paperfish&#39;s blog</h1>
      <p>在读学生，垃圾一枚，努力学习中...</p>
      <div class="app-header-social">
        
          <a target="_blank" href="https://github.com/Papertiger24" rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg></a>
        
          <a target="_blank" href="https://twitter.com/gohugoio" rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter">
  <title>twitter</title>
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
</svg></a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">第五章 函数</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Nov 10, 2020
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          2 min read
        </div></div>
    </header>
    <div class="post-content">
      <h1 id="第五章-函数">第五章 函数</h1>
<h2 id="1-函数定义与使用">1. 函数定义与使用</h2>
<h3 id="1-基本语法">1. 基本语法</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#960050;background-color:#1e0010">函数名</span>([<span style="color:#960050;background-color:#1e0010">参数列表</span>])
	<span style="color:#e6db74">&#39;&#39;&#39;注释&#39;&#39;&#39;</span>
    <span style="color:#960050;background-color:#1e0010">函数体</span>
</code></pre></div><p>def需要注意的问题：</p>
<ul>
<li>不需要说明形参类型，Python会根据实参的值自动推断参数类型</li>
<li>不需要指定函数返回值类型，由其中的return语句的值来确定</li>
<li>即使函数不需要接受任何参数，也必须保留一对空的圆括号</li>
<li>函数头部括号后面的冒号必不可少</li>
<li>函数体相对于def关键字必须保持一定的空格缩进</li>
</ul>
<h3 id="2-递归函数">2. 递归函数</h3>
<p>一个函数中直接或者间接地又调用了该函数自身，叫做递归调用。</p>
<p>函数递归通常用来把一个大型的复杂问题层层转化为一个与原来问题本质相同但规模很小、很容易解决或描述的问题，只需要很少的代码就可以描述解决问题过程中需要的大量重复计算。要注意：</p>
<ul>
<li>每次递归应保持问题性质不变</li>
<li>每次递归应使用更小或更简单的输入</li>
<li>必须有一个能够直接处理而不需要再次进行递归的特殊情况来保证递归过程可以结束</li>
<li>函数递归深度不能太大，否则引起内存崩溃</li>
</ul>
<h2 id="2-函数参数">2. 函数参数</h2>
<p>函数定义时圆括号中的是逗号分隔开的形参列表，函数可有可无参数但是定义和调用时的圆括号不可少。</p>
<h3 id="1-位置参数">1. 位置参数</h3>
<p>调用函数时实参和形参的顺序必须一致，并且数量相同。</p>
<h3 id="2-默认值参数">2. 默认值参数</h3>
<p>在定义函数时，可以为形参设置默认值。在调用带有默认值参数的函数时，可以不用为设置了默认值的形参进行传值，此时函数将会直接使用函数定义时设置的默认值，当然也可以通过显式赋值来替换其默认值。</p>
<p>注意，在定义带有默认值参数的函数时，任何一个默认值参数右边都不能再出现没有默认值的普通位置函数，否则会提示语法错误。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#960050;background-color:#1e0010">函数名</span>(<span style="color:#f92672">...</span>, <span style="color:#960050;background-color:#1e0010">形参名</span> <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">默认值</span>):
    <span style="color:#960050;background-color:#1e0010">函数体</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">demo</span>(string, times <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>):
	<span style="color:#66d9ef">print</span>((string<span style="color:#f92672">+</span><span style="color:#e6db74">&#39; &#39;</span>)<span style="color:#f92672">*</span>times)

<span style="color:#f92672">&gt;&gt;&gt;</span> demo(<span style="color:#e6db74">&#39;Hello&#39;</span>)		<span style="color:#75715e">#当不显式赋值时，则使用默认值</span>
Hello 
<span style="color:#f92672">&gt;&gt;&gt;</span> demo(<span style="color:#e6db74">&#39;Hello&#39;</span>, <span style="color:#ae81ff">3</span>)
Hello Hello Hello 
</code></pre></div><h3 id="3-关键参数">3. 关键参数</h3>
<p>通过关键参数可以按参数名字传递值，明确指定哪个值传递给哪个参数，实参顺序可以和形参顺序不一致，但不影响参数值的传递结果，避免了用户需要牢记参数位置和顺序的麻烦，使得函数的调用和参数传递更加灵活。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">demo</span>(string, times <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>):
	<span style="color:#66d9ef">print</span>((string<span style="color:#f92672">+</span><span style="color:#e6db74">&#39; &#39;</span>)<span style="color:#f92672">*</span>times)

<span style="color:#f92672">&gt;&gt;&gt;</span> demo(times <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>, string <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;World&#39;</span>)
World World World World World 
</code></pre></div><h3 id="4-可变长度参数">4. 可变长度参数</h3>
<p>定义时有两种形式：<code>*parameter</code>、<code>**parameter</code>，前者用来接受任意多个位置实参并将其放在一个元组中，后者接收多个<strong>关键参数</strong>并将其放在字典中。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">demo</span>(<span style="color:#f92672">*</span>p):
	<span style="color:#66d9ef">print</span>(p)

	
<span style="color:#f92672">&gt;&gt;&gt;</span> demo(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">demo</span>(<span style="color:#f92672">**</span>p):
    <span style="color:#66d9ef">for</span> item <span style="color:#f92672">in</span> p<span style="color:#f92672">.</span>items():
    	<span style="color:#66d9ef">print</span>(item)

    	
<span style="color:#f92672">&gt;&gt;&gt;</span> demo(x<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, y<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, z<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
(<span style="color:#e6db74">&#39;x&#39;</span>, <span style="color:#ae81ff">1</span>)
(<span style="color:#e6db74">&#39;y&#39;</span>, <span style="color:#ae81ff">2</span>)
(<span style="color:#e6db74">&#39;z&#39;</span>, <span style="color:#ae81ff">3</span>)
</code></pre></div><h3 id="5-传递参数时的序列解包">5. 传递参数时的序列解包</h3>
<p>与可变长度的参数相对应，这里的序列解包是指实参，同样也有*和**两种形式。调用含有多个位置参数的函数时，可以使用Python列表、元组、集合、字典以及其他可迭代对象作为实参，并在实参名称前加一个星号，Python解释器将自动进行解包，然后把序列中的值分别传递给多个形参变量。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> seq <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> demo(<span style="color:#f92672">*</span>seq)
<span style="color:#ae81ff">6</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> tup <span style="color:#f92672">=</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> demo(<span style="color:#f92672">*</span>tup)
<span style="color:#ae81ff">9</span>
</code></pre></div><p>如果实参是个字典，可以使用两个星号**对其进行解包，会把字典转换为类似于关键参数形式进行参数传递，但是要求字典中的所有键都必须是函数的形参名称，或者与函数中两个星号的可变长度参数相对应。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">demo</span>(a, b, c):
	<span style="color:#66d9ef">print</span>(a<span style="color:#f92672">+</span>b<span style="color:#f92672">+</span>c)

<span style="color:#f92672">&gt;&gt;&gt;</span> dic <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;c&#39;</span>:<span style="color:#ae81ff">3</span>}
<span style="color:#f92672">&gt;&gt;&gt;</span> demo(<span style="color:#f92672">**</span>dic)
<span style="color:#ae81ff">6</span>

<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">demo</span>(<span style="color:#f92672">**</span>p):			<span style="color:#75715e">#接受字典形式的可变长度参数的函数</span>
	<span style="color:#66d9ef">for</span> item <span style="color:#f92672">in</span> p<span style="color:#f92672">.</span>items():
		<span style="color:#66d9ef">print</span>(item)

<span style="color:#f92672">&gt;&gt;&gt;</span> dic <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;c&#39;</span>:<span style="color:#ae81ff">3</span>}
<span style="color:#f92672">&gt;&gt;&gt;</span> demo(<span style="color:#f92672">**</span>dic)				<span style="color:#75715e">#对字典元素进行解包，不要在意顺序</span>
(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>)
(<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#ae81ff">2</span>)
(<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#ae81ff">3</span>)
</code></pre></div><h2 id="3-变量作用域">3. 变量作用域</h2>
<p>变量起作用的代码范围成为变量的作用域，不同作用域内同名变量之间互不影响。如果想要在函数内部修改一个定义在函数外的变量值，必须要使用<code>global</code>明确声明，否则会自动创建新的局部变量。</p>
<p>在函数内如果只引用某个变量的值而没有为其赋新值，该变量为（隐式的）全局变量。如果在函数内有为变量赋值的操作，该变量就被认为是（隐式的）局部变量，除非在函数内赋值操作之前显式地用关键字<code>global</code>进行声明。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">demo</span>():
	<span style="color:#66d9ef">global</span> x
	x <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
	y <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
	<span style="color:#66d9ef">print</span>(x<span style="color:#f92672">+</span>y)

	
<span style="color:#f92672">&gt;&gt;&gt;</span> x <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> x
<span style="color:#ae81ff">5</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> demo()			<span style="color:#75715e">#在函数里修改了x的值</span>
<span style="color:#ae81ff">8</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> x
<span style="color:#ae81ff">3</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">del</span> x			<span style="color:#75715e">#删除了x</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> x
<span style="color:#a6e22e">NameError</span>: name <span style="color:#e6db74">&#39;x&#39;</span> <span style="color:#f92672">is</span> <span style="color:#f92672">not</span> defined
<span style="color:#f92672">&gt;&gt;&gt;</span> demo()			<span style="color:#75715e">#调用函数后创建了全局变量x</span>
<span style="color:#ae81ff">8</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> x
<span style="color:#ae81ff">3</span>
</code></pre></div><p>如果局部变量和全局变量具有相同的名字，那么该局部变量会在自己的作用域内暂时隐藏同名的全局变量。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">demo</span>():
	x <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
	<span style="color:#66d9ef">print</span>(x)

	
<span style="color:#f92672">&gt;&gt;&gt;</span> x <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> demo()
<span style="color:#ae81ff">5</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> x
<span style="color:#ae81ff">3</span>
</code></pre></div><h2 id="4-lambda表达式">4. lambda表达式</h2>
<p>常用来声明匿名函数，也就是没有函数名字的、临时使用的小函数，常用在临时需要一个类似于函数的功能但又不想定义函数的场合。</p>
<p>lambda表达式<strong>只可以包含一个表达式</strong>，不允许包含复杂语句和结构，但在表达式中可以调用其他函数，该表达式的计算结果相当于函数的返回值。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> f <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> x, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, z <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>: x<span style="color:#f92672">+</span>y<span style="color:#f92672">+</span>z			<span style="color:#75715e">#支持参数默认值</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(f(<span style="color:#ae81ff">1</span>))
<span style="color:#ae81ff">6</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(f(<span style="color:#ae81ff">1</span>, z <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>))			<span style="color:#75715e">#支持调用时使用关键参数</span>
<span style="color:#ae81ff">10</span>

<span style="color:#f92672">&gt;&gt;&gt;</span> data <span style="color:#f92672">=</span> list(range(<span style="color:#ae81ff">20</span>))
<span style="color:#f92672">&gt;&gt;&gt;</span> data
[<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">14</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">18</span>, <span style="color:#ae81ff">19</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">import</span> random
<span style="color:#f92672">&gt;&gt;&gt;</span> random<span style="color:#f92672">.</span>shuffle(data)			<span style="color:#75715e">#打乱顺序</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> data
[<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">14</span>, <span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">18</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">19</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">5</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> data<span style="color:#f92672">.</span>sort(key <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> x: len(str(x)))			<span style="color:#75715e">#key为转换为字符串后的长度，x为每次传入的参数</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> data
[<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">14</span>, <span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">18</span>, <span style="color:#ae81ff">19</span>, <span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">12</span>]
</code></pre></div><h2 id="5-生成器函数">5. 生成器函数</h2>
<p>包含<code>yield</code>语句的函数可以用来创建生成器对象，这样的函数也称生成器函数。<code>yield</code>语句与<code>return</code>语句的作用相似，都是从函数中返回值。与<code>return</code>语句不同的是，<code>return</code>语句一旦执行会立刻结束函数的运行，而每次执行到<code>yield</code>语句并返回一个值之后会暂停或挂起后面代码的执行，下次通过生成器对象的<code>__next__()</code>方法、内置函数<code>next()</code>、<code>for</code>循环遍历生成器对象元素或其他方式显式“索要”数据时恢复执行。生成器具有惰性求值的特点，适合大数据处理。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
	a, b <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>
	<span style="color:#66d9ef">while</span> True:
		<span style="color:#66d9ef">yield</span> a				<span style="color:#75715e">#暂停执行，等到再需要时再产生一个新元素</span>
		a, b <span style="color:#f92672">=</span> b, a<span style="color:#f92672">+</span>b

		
<span style="color:#f92672">&gt;&gt;&gt;</span> a <span style="color:#f92672">=</span> f()
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>):				<span style="color:#75715e">#生成十个斐波那契数</span>
	<span style="color:#66d9ef">print</span>(next(a), end <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39; &#39;</span>)

	
<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">34</span> <span style="color:#ae81ff">55</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> f():					<span style="color:#75715e">#生成第一个大于100的斐波那契数元素</span>
	<span style="color:#66d9ef">if</span> i <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">100</span>:
		<span style="color:#66d9ef">print</span>(i, end <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39; &#39;</span>)
		<span style="color:#66d9ef">break</span>

	
<span style="color:#ae81ff">144</span> 
</code></pre></div>
    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
